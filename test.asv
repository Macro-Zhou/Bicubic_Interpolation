%% Compare implementation with MATLAB interp2 function

srcImg = eia_lr(:,:,1); % read image
[Xq,Yq] = meshgrid(1:0.25:90,1:0.25:90); % define scaling
z1 = interp2(srcImg,Xq,Yq,'bicubic');
destImgMATLAB = bicubicInterpolate(srcImg, 4);

line1_bar = cubicInterpolate(srcImg(1,:),4);
line1_matlab = z1(1,:);

im_bar = bicubicInterpolate(srcImg,4);
im_matlab = z1;
imDiff = destImgMATLAB - im_bar;

figure
subplot(121)
imshow(z1,[])
subplot(122)
imshow(im_bar,[])
diff = line1_matlab - line1_bar;

if sum(any(imDiff > 1e-10)) == 0
    disp("Matched MATLAB implementation")
end